# Мультиязычность в SAMT Frontend

## Архитектурный подход

Мы используем **Feature-Sliced Design** с интеграцией **i18n (internationalization)** для реализации мультиязычности в приложении.

### Структура

```
src/
├── shared/
│   └── i18n/
│       ├── locales/
│       │   ├── ru.json      # Русские переводы
│       │   └── tg.json      # Таджикские переводы
│       ├── i18n.js          # Основная логика i18n
│       └── useTranslation.js # Хук для использования переводов
├── features/
│   └── i18n/
│       ├── model/
│       │   ├── LanguageContext.jsx # Контекст языка
│       │   └── useLanguage.js      # Хук для работы с языком
│       └── ui/
│           └── LanguageSwitcher.jsx # Компонент переключателя
```

## Использование

### 1. В компонентах

```jsx
import { useTranslation } from '../shared/i18n/useTranslation';

const MyComponent = () => {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{t('doctors.title')}</h1>
      <p>{t('common.loading')}</p>
    </div>
  );
};
```

### 2. Переключение языка

```jsx
import { useLanguage } from '../features/i18n/model/useLanguage';

const LanguageSwitcher = () => {
  const { language, changeLanguage } = useLanguage();
  
  return (
    <button onClick={() => changeLanguage('tg')}>
      Переключить на таджикский
    </button>
  );
};
```

### 3. Автоматическая отправка заголовка языка

При изменении языка автоматически обновляется заголовок `Accept-Language` в HTTP запросах:

- `ru` - для русского языка
- `tg` - для таджикского языка

## Добавление новых переводов

### 1. Добавьте переводы в файлы локализации

**ru.json:**
```json
{
  "newSection": {
    "title": "Новый раздел",
    "description": "Описание нового раздела"
  }
}
```

**tg.json:**
```json
{
  "newSection": {
    "title": "Бахши нав",
    "description": "Тавсифи бахши нав"
  }
}
```

### 2. Используйте в компонентах

```jsx
const { t } = useTranslation();
return <h1>{t('newSection.title')}</h1>;
```

## Поддерживаемые языки

- `ru` - Русский
- `tg` - Таджикский

## Особенности реализации

1. **Автоматическое сохранение** - выбранный язык сохраняется в localStorage
2. **Автоматическая отправка заголовков** - при изменении языка обновляется заголовок `Accept-Language`
3. **Перезагрузка данных** - при изменении языка автоматически перезагружаются данные с сервера
4. **Fallback** - если перевод не найден, возвращается ключ перевода

## Лучшие практики

1. **Используйте вложенные ключи** для организации переводов
2. **Группируйте переводы по функциональности**
3. **Используйте описательные ключи**
4. **Добавляйте переводы для всех поддерживаемых языков**
5. **Тестируйте интерфейс на всех языках** 